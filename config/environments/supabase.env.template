# Environment Configuration for Supabase Cloud

# =============================================================================
# SUPABASE PROJECTS CONFIGURATION
# =============================================================================

# User Management Service - Core Authentication
SUPABASE_USER_MANAGEMENT_URL=https://your-user-mgmt-project.supabase.co
SUPABASE_USER_MANAGEMENT_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_USER_MANAGEMENT_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Calorie Balance Service - Analytics & Aggregations
SUPABASE_CALORIE_BALANCE_URL=https://your-calorie-balance-project.supabase.co
SUPABASE_CALORIE_BALANCE_DB_URL=postgresql://postgres:your-password@db.your-calorie-balance-project.supabase.co:5432/postgres
SUPABASE_CALORIE_BALANCE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Meal Tracking Service - Real-time Food Data
SUPABASE_MEAL_TRACKING_URL=https://your-meal-tracking-project.supabase.co
SUPABASE_MEAL_TRACKING_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_MEAL_TRACKING_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Health Monitor Service - HealthKit Integration
SUPABASE_HEALTH_MONITOR_URL=https://your-health-monitor-project.supabase.co
SUPABASE_HEALTH_MONITOR_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_HEALTH_MONITOR_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Notifications Service - Push Notifications
SUPABASE_NOTIFICATIONS_URL=https://your-notifications-project.supabase.co
SUPABASE_NOTIFICATIONS_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_NOTIFICATIONS_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# AI Coach Service - Vector Database & ML
SUPABASE_AI_COACH_URL=https://your-ai-coach-project.supabase.co
SUPABASE_AI_COACH_DB_URL=postgresql://postgres:your-password@db.your-ai-coach-project.supabase.co:5432/postgres
SUPABASE_AI_COACH_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Inter-service communication
INTER_SERVICE_SECRET_KEY=your-256-bit-secret-key-for-service-to-service-auth
JWT_SECRET_KEY=your-256-bit-secret-key-for-jwt-signing
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# OpenAI API for AI Coach
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=4096

# OpenFoodFacts API for nutrition data
OPENFOODFACTS_API_URL=https://world.openfoodfacts.org/api/v0
OPENFOODFACTS_RATE_LIMIT=100

# Apple HealthKit (iOS app configuration)
HEALTHKIT_ENABLED=true
HEALTHKIT_SYNC_INTERVAL_MINUTES=15

# Push Notifications
FIREBASE_PROJECT_ID=nutrifit-mobile-app
FIREBASE_PRIVATE_KEY_ID=your-firebase-key-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nyour-firebase-private-key\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xyz@nutrifit-mobile-app.iam.gserviceaccount.com
FIREBASE_CLIENT_ID=your-firebase-client-id
FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# CORS Configuration for mobile app
ALLOWED_ORIGINS=["http://localhost:3000", "capacitor://localhost", "https://localhost"]

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
API_TIMEOUT_SECONDS=30

# Data Quality
MINIMUM_CONFIDENCE_THRESHOLD=0.6
PRECISION_GRAMS=20

# Feature Flags
ENABLE_GPT4V_ANALYSIS=true
ENABLE_OPENFOODFACTS_FALLBACK=true
ENABLE_BACKGROUND_TASKS=true

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Sentry Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development

# Structured Logging
STRUCTURED_LOGGING=true

# Metrics Collection
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Connection Pool Settings
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30

# Redis for Caching (optional)
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=false
