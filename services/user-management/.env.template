# ===============================================
# User Management Service - Development Environment
# ===============================================
# Copy this file to .env and configure for your environment

# ====================================
# Application Configuration
# ====================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=DEBUG
PORT=8001
DATABASE_SCHEMA=user_management

# ====================================
# Supabase Configuration
# ====================================
# Get these from your Supabase project dashboard
# URL format: https://xxxxxxxxxxxxx.supabase.co
SUPABASE_URL=your_supabase_project_url
SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_KEY=your_supabase_service_key

# ====================================
# Security Configuration
# ====================================
# Generate secure keys for production:
# python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=dev-secret-key-change-in-production
JWT_SECRET_KEY=dev-jwt-secret-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# ====================================
# CORS Configuration
# ====================================
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:3000,capacitor://localhost,https://localhost,http://localhost:8080

# ====================================
# Feature Flags
# ====================================
ENABLE_REAL_TIME=true
ENABLE_AUTH=true
ENABLE_STORAGE=false

# ====================================
# Performance Configuration
# ====================================
RATE_LIMIT_REQUESTS_PER_MINUTE=60
REQUEST_TIMEOUT_SECONDS=30
MAX_CONNECTIONS=100

# ====================================
# Redis Configuration (optional)
# ====================================
# For caching and session storage
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0

# ====================================
# Database Configuration (fallback)
# ====================================
# If not using Supabase, configure local PostgreSQL
DATABASE_URL=postgresql://nutrifit_user:dev_password@localhost:5432/user_management
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# ====================================
# Monitoring & Logging
# ====================================
# Optional: Configure Sentry for error tracking
SENTRY_DSN=
STRUCTURED_LOGGING=true

# Logging levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=detailed
LOG_TO_FILE=false
LOG_FILE_PATH=./logs/app.log

# ====================================
# Email Configuration (if needed)
# ====================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true
FROM_EMAIL=noreply@nutrifit.app

# ====================================
# External Services
# ====================================
# Third-party API keys and configurations
OPENAI_API_KEY=
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=

# ====================================
# Development Tools
# ====================================
# Enable/disable development features
ENABLE_DOCS=true
ENABLE_DEBUG_TOOLBAR=true
ENABLE_PROFILER=false
ENABLE_AUTO_RELOAD=true

# ====================================
# Testing Configuration
# ====================================
# Test database (separate from development)
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/test_user_management
TEST_REDIS_URL=redis://localhost:6379/1

# ====================================
# Docker Configuration
# ====================================
# For docker-compose development
COMPOSE_PROJECT_NAME=nutrifit
POSTGRES_DB=user_management
POSTGRES_USER=nutrifit_user
POSTGRES_PASSWORD=dev_password

# ====================================
# Deployment Configuration
# ====================================
# Production settings (for reference)
# WORKERS=4
# WORKER_CONNECTIONS=1000
# KEEPALIVE=2
# MAX_REQUESTS=1000
# MAX_REQUESTS_JITTER=50
